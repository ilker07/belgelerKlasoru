<!DOCTYPE html>
<html>
    <head>
        <meta charset='UTF-8'>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

    </head>
    <body>
    
        <style>
          
          #ledDurum{
              margin-top: 25px;
          }
        </style>

    <form>
        <h2  style='color:black' class="text-center">LED AÇ KAPAT</h2>
    <div  style="text-align:center;margin-top:75px;">
         
        <button  type="button"  id="ledAc" onclick='uygula("ac")' class="btn btn-success" style="width:100px; height: 50px">Aç</button> 
        
        <button  type="button" id="ledKapat"  onclick='uygula("kapat")' class="btn btn-danger" style="width:100px; height: 50px;margin-left: 50px;" disabled="true">Kapat</button> 
    </div>  
    <h2  id="ledDurum" style='color:red' class="text-center">KAPALI</h2>
  
    </form>
	<script>
     
    function aL(aU)
    {
       
        var aR =new XMLHttpRequest();
        var deger="yazi";
        
        aR.onreadystatechange=function(){
            if(this.readyState==4 && this.status==200)
            {
              //var txt = this.responseText.split("\n");//alert(txt[0]);//alert(txt[1]);
              if(aU=="LEDON")
              {
              document.getElementById('ledAc').disabled=true;
              setTimeout(git, 1000, 'ledKapat');
              }
              else
              {
              
              document.getElementById('ledKapat').disabled=true;
              setTimeout(git, 1000, 'ledAc');
              }
            }
        };
    aR.open("GET","yazi.txt",true);
    aR.send();
    }

    function uygula(durum)
    {
     
        
      if(durum=='ac')
      {
       aL('LEDON');
      
      }
       else
       aL('LEDOFF');
       
    }

    function git(kimlik) //id
    {
        if(kimlik=='ledKapat')
        {
              var deger=document.getElementById('ledDurum');
              deger.style.color="green";
              deger.innerHTML="AÇIK";

        }
        else
        {
              var deger=document.getElementById('ledDurum');
              deger.style.color="red";
              deger.innerHTML="KAPALI";
        }
         
        document.getElementById(kimlik).disabled=false;
    }
    //<meta http-equiv="refresh" content="5">
   </script>
   </body>
   </html>